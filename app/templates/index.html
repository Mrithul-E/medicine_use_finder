<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SF48B37260"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-SF48B37260');
  </script>
  <meta charset="UTF-8">
  <title>Medicine Use Finder | Simple & Reliable Medicine Info</title>

  <meta property="og:title" content="Medicine Use Finder">
  <meta property="og:description" content="Find what a medicine is used for with simple, trusted info.">
  <meta property="og:url" content="https://medicine-use-finder.vercel.app/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://medicine-use-finder.vercel.app/static/preview.png">


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Medicine Use Finder">
  <meta name="twitter:description" content="Find what a medicine is used for with simple, trusted info.">
  <meta name="twitter:image" content="https://medicine-use-finder.vercel.app/static/preview.png">

  <meta name="google-site-verification" content="0e9uX5y0d-bcWx-py3VtCDs67Js5wHBDaFqbqV8sJxA" />

  <meta name="description"
    content="Find out what any medicine is used for. Type or upload the medicine name and get simple, reliable info from trusted sources.">
  <meta name="keywords" content="medicine usage, medicine info, drug use, find medicine use, medical search, medicine use, 1mg, drug info, medicine finder, health, healthcare">
  <meta name="robots" content="index, follow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13/font/bootstrap-icons.min.css">
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">

  <style>
    .highlight-box {
      background-color: #f8d7da;
      padding: 1rem;
      border-left: 6px solid #dc3545;
      border-radius: 0.5rem;
      font-size: 0.98rem;
      color: #842029;
    }

    #result h4,
    h5 {
      color: #0d6efd;
    }

    .list-style li::marker {
      color: #0d6efd;
    }

    footer a {
      text-decoration: none;
    }

    footer {
      background-color: #0d6efd;
    }

    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    main {
      flex: 1;
    }
  </style>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Medicine Use Finder",
  "url": "https://medicine-use-finder.vercel.app",
  "description": "Search and find what a medicine is used for in simple language.",
  "applicationCategory": "HealthApplication",
  "operatingSystem": "All"
}
</script>
</head>

<body class="bg-light">

  <main class="d-flex flex-column flex-grow-1 justify-content-between">
    <div class="container mt-5 pt-4 pb-1 col-md-6 col-11 shadow rounded-4">
      <h3 class="text-center mb-4 text-primary"><b>Medicine Usage Finder</b></h3>

      <form id="medicineForm" enctype="multipart/form-data">
        <div class="mb-3">
          <label for="medicine_name" class="form-label">Medicine Name</label>
          <input type="text" class="form-control" id="medicine_name" name="medicine_name"
            placeholder="e.g., Paracetamol">
        </div>

        <div class="mb-3">
          <label for="image" class="form-label">Upload Image</label>
          <input type="file" class="form-control" id="image" name="image" accept="image/*" capture="camera">
        </div>

        <button type="submit" class="btn btn-primary mb-2">Search</button>
      </form>

      <div id="result" class="d-none bg-light shadow rounded-4 mt-4 p-3 px-4">

      </div>
    </div>
    <div class="text-muted small mb-3 mx-3  text-center">
      <small>
        This tool helps you understand what any medicine is used for. Type or upload a medicine name to get simple usage
        info powered by Google search, sourced from sites like Tata 1mg and Netmeds.
      </small>
    </div>

  </main>

  <footer class="text-white py-2 mt-auto">
    <div class="container text-center">
      <div class="mb-2">Made with <i class="bi bi-heart-fill text-danger"></i> in India by <strong>Mrithul</strong>
      </div>
      <div class="mb-2">
        <a href="https://github.com/Mrithul-E" target="_blank" rel="noopener noreferrer" class="text-white me-3">
          <i class="bi bi-github"></i> GitHub
        </a>
        <a href="https://www.instagram.com/mrithull_" target="_blank" rel="noopener noreferrer" class="text-white me-3">
          <i class="bi bi-instagram"></i> Instagram
        </a>
        <a href="mailto:mrithul100@gmail.com" class="text-white me-3">
          <i class="bi bi-envelope-at"></i> Email
        </a>
        <a href="https://stackoverflow.com/users/19938225/mrithul-e" target="_blank" rel="noopener noreferrer"
          class="text-white me-3 text-nowrap">
          <i class="bi bi-stack-overflow"></i> Stack&nbsp;Overflow
        </a>
        <a href="https://www.threads.net/@mrithull_" target="_blank" rel="noopener noreferrer" class="text-white">
          <i class="bi bi-threads"></i> Threads
        </a>
      </div>


    </div>
  </footer>

  <script>
    $("#image").on('change', function () {
      if (this.files[0]) {
        $("#medicine_name").val("")
      }
    })

    $("#medicine_name").on('input', function () {
      $("#image").val("")
    })

    $('#medicineForm').on('submit', function (e) {
      e.preventDefault();

      const formData = new FormData(this);
      const result = $('#result');


      result.removeClass('d-none alert-info alert-danger').addClass('alert alert-info').text('Loading...');

      $.ajax({
        url: '/api/find-usage',
        method: 'POST',
        data: formData,
        processData: false,
        contentType: false,
        success: function (response) {
          // response = JSON.parse(response)


          result.removeClass('d-none alert-info');
          if (response.error) {
            result.addClass('alert alert-danger').text(response.error);
          } else {
            result.html(`
          <h4 class="text-center mt-2 mb-4"><b>ü©∫ Medicine Overview</b></h4>

          <div class="mb-4">
            <h5>üíä Name</h5>
            <p>${response.medicine_name}</p>
          </div>

          <div class="mb-4">
            <h5>üß™ Generic Name</h5>
            <p>${response.generic_name}</p>
          </div>

          <div class="mb-4">
            <h5>üìÇ Drug Type</h5>
            <p>${response.drug_class}</p>
          </div>

          <div class="mb-4 shadow rounded-3 p-2" style="box-shadow: 0 0 10px #0d6efd !important;">
            <h5>üìå What it‚Äôs used for</h5>
            <p>${response.use}</p>
          </div>

          <div class="mb-4">
            <h5>üîç How it works</h5>
            <p>${response.how_it_works}</p>
          </div>

          <div class="mb-4">
            <h5>üìÖ When to take</h5>
            <p>${response.when_to_take}</p>
          </div>

          <div class="mb-4">
            <h5>‚ö†Ô∏è Important to know</h5>
            <div class="highlight-box" id="important">${response.important_to_know}</div>
          </div>

          <div class="mb-4">
            <h5>üí• Common Side Effects</h5>
            <ul class="list-style">
              ${response.common_side_effects.map(effect => `<li>${effect}</li>`).join("")}
            </ul>
          </div>

          <div class="mb-4">
            <h5>üè∑Ô∏è Other Brand Names</h5>
            <ul class="list-style">
              ${response.brand_names.map(name => `<li>${name}</li>`).join("")}
            </ul>
          </div>

          <div class="alert alert-secondary mt-4 text-center small">
            ‚ö†Ô∏è This information is for general understanding only and is not medical advice. Always consult a doctor or pharmacist before using any medicine.
          </div>
          `)
          }
        },
        error: function () {
          result.removeClass('d-none').addClass('alert-danger').text('Something went wrong.');
        }
      });
    });
  </script>
</body>

</html>